import{a as d}from"./index.4db902b9.js";import{o as s,c as l,a as t,q as r,d as m,e as p,r as g,b}from"./vendor.d628d85d.js";import{_ as c}from"./index.9decbd38.js";import"./axios.edddaafe.js";const f={name:"postMediaForm",data(){return{drawingShow:!1,photoShow:!1,paintingShow:!1,userId:localStorage.getItem("userId"),title:"",text:"",imageUrl:"",photo:"",drawing:"",painting:"",category:"",token:localStorage.getItem("token")}},methods:{handleDrawingFileUpload(){this.drawing=this.$refs.drawing.files[0],this.drawingUrl=URL.createObjectURL(this.drawing)},postDrawing(){const o=new FormData;o.append("userId",parseInt(localStorage.getItem("userId"))),o.append("title",document.getElementById("title").value),o.append("text",document.getElementById("text").value),o.append("drawing",this.drawing),o.append("category",this.$refs.category.value),d.post("http://localhost:3001/api/drawings",o,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.token}}).then(()=>this.$router.go())},handlePhotoFileUpload(){this.photo=this.$refs.photo.files[0],this.photoUrl=URL.createObjectURL(this.photo)},postPhoto(){const o=new FormData;o.append("userId",parseInt(localStorage.getItem("userId"))),o.append("title",document.getElementById("title").value),o.append("text",document.getElementById("text").value),o.append("photo",this.photo),o.append("category",this.$refs.category.value),d.post("http://localhost:3001/api/photos",o,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.token}}).then(()=>this.$router.go())},handlePaintingFileUpload(){this.painting=this.$refs.painting.files[0],this.paintingUrl=URL.createObjectURL(this.painting)},postPainting(){const o=new FormData;o.append("userId",parseInt(localStorage.getItem("userId"))),o.append("title",document.getElementById("title").value),o.append("text",document.getElementById("text").value),o.append("painting",this.painting),o.append("category",this.$refs.category.value),d.post("http://localhost:3001/api/paintings",o,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.token}}).then(()=>this.$router.go())}}},v={class:"col-md-10 mx-auto border border-dark rounded shadow"},y=t("h2",{class:"h2 mt-2"},"Pour publier un media, choisis son type :",-1),w=p('<div class="mx-auto w-50 mb-3"><label for="title" class="form-label">Titre :</label><input type="text" class="form-control" id="title" placeholder="Tape ici ton titre..."></div><div class="mx-auto w-50 mb-3"><label for="statusText" class="form-label">Texte :</label><input type="text" class="form-control" id="text" placeholder="Tape ici ton texte..."></div>',2),x={class:"w-50 mx-auto mb-3"},_=t("label",{for:"drawing",class:"form-label pr-1"},"Fichier \xE0 publier :",-1),I={id:"category",name:"category",ref:"category"},S=p('<option default="">Choisir une cat\xE9gorie:</option><option value="Enluminure">Graphite</option><option value="Aquarelle">Crayons couleurs</option><option value="Acrylique">Charbon</option><option value="Acrylique">Art digital</option>',5),P=[S],k=p('<div class="mx-auto w-50 mb-3"><label for="title" class="form-label">Titre :</label><input type="text" class="form-control" id="title" placeholder="Tape ici ton titre..."></div><div class="mx-auto w-50 mb-3"><label for="statusText" class="form-label">Texte :</label><input type="text" class="form-control" id="text" placeholder="Tape ici ton texte..."></div>',2),C={class:"w-50 mx-auto mb-3"},T=t("label",{for:"photo",class:"form-label pr-1"},"Fichier \xE0 publier :",-1),F=p('<div class="mx-auto w-50 mb-3"><label for="title" class="form-label">Titre :</label><input type="text" class="form-control" id="title" placeholder="Tape ici ton titre..."></div><div class="mx-auto w-50 mb-3"><label for="statusText" class="form-label">Texte :</label><input type="text" class="form-control" id="text" placeholder="Tape ici ton texte..."></div>',2),U={class:"w-50 mx-auto mb-3"},D=t("label",{for:"painting",class:"form-label pr-1"},"Fichier \xE0 publier :",-1),A={class:"w-50 mx-auto mb-3"},B=t("p",{class:"form-label pr-1"},"Cat\xE9gorie :",-1),E={id:"category",name:"category",ref:"category"},$=t("option",{default:""},"Choisir une cat\xE9gorie:",-1),q=t("option",{value:"Enluminure"},"Enluminure",-1),j=t("option",{value:"Aquarelle"},"Aquarelle",-1),L=t("option",{value:"Acrylique"},"Acrylique",-1),R=[$,q,j,L];function M(o,e,u,h,n,a){return s(),l("div",v,[y,t("button",{class:"btn btn-primary mt-3 mb-3",onClick:e[0]||(e[0]=i=>n.drawingShow=!n.drawingShow)}," Dessin "),t("button",{class:"btn btn-primary mt-3 mb-3",onClick:e[1]||(e[1]=i=>n.photoShow=!n.photoShow)}," Photo "),t("button",{class:"btn btn-primary mt-3 mb-3",onClick:e[2]||(e[2]=i=>n.paintingShow=!n.paintingShow)}," Peinture "),n.drawingShow?(s(),l("form",{key:0,id:"formDrawing",class:"mt-5",onSubmit:e[5]||(e[5]=r(i=>a.postDrawing(),["prevent"])),enctype:"multipart/form-data"},[w,t("div",x,[_,t("input",{type:"file",class:"form-control-file mx-auto",id:"drawing",name:"drawing",ref:"drawing",onChange:e[3]||(e[3]=i=>a.handleDrawingFileUpload())},null,544)]),t("select",I,P,512),t("button",{type:"submit",class:"btn btn-primary mb-3",onClick:e[4]||(e[4]=r((...i)=>a.postDrawing&&a.postDrawing(...i),["prevent"]))}," Publier ")],32)):m("",!0),n.photoShow?(s(),l("form",{key:1,id:"form",class:"mt-5",onSubmit:e[8]||(e[8]=r(i=>a.postPhoto(),["prevent"])),enctype:"multipart/form-data"},[k,t("div",C,[T,t("input",{type:"file",class:"form-control-file mx-auto",id:"photo",name:"photo",ref:"photo",onChange:e[6]||(e[6]=i=>a.handlePhotoFileUpload())},null,544)]),t("button",{type:"submit",class:"btn btn-primary mb-3",onClick:e[7]||(e[7]=r((...i)=>a.postPhoto&&a.postPhoto(...i),["prevent"]))}," Publier ")],32)):m("",!0),n.paintingShow?(s(),l("form",{key:2,id:"formPainting",class:"mt-5",onSubmit:e[11]||(e[11]=r(i=>a.postPainting(),["prevent"])),enctype:"multipart/form-data"},[F,t("div",U,[D,t("input",{type:"file",class:"form-control-file mx-auto",id:"painting",name:"painting",ref:"painting",onChange:e[9]||(e[9]=i=>a.handlePaintingFileUpload())},null,544)]),t("div",A,[B,t("select",E,R,512)]),t("button",{type:"submit",class:"btn btn-primary mb-3",onClick:e[10]||(e[10]=r((...i)=>a.postPainting&&a.postPainting(...i),["prevent"]))}," Publier ")],32)):m("",!0)])}var N=c(f,[["render",M]]);const V={name:"post",components:{postMediaForm:N},data(){return{userId:localStorage.getItem("userId"),users:[],user:{id:localStorage.getItem("userId"),isAdmin:localStorage.getItem("isAdmin")},token:localStorage.getItem("token")}}},z={id:"arts",class:"row"},O={class:"col"},G=t("h1",{class:"h1"},"Publier un media sur le site :",-1);function H(o,e,u,h,n,a){const i=g("postMediaForm");return s(),l("div",z,[t("div",O,[G,b(i)])])}var X=c(V,[["render",H]]);export{X as default};
